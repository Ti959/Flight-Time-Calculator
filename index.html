<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Power Calculator</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Fallback styles in case external CSS fails to load */
        button {
            display: inline-block !important;
            padding: 8px 16px !important;
            background: #667eea !important;
            color: white !important;
            border: none !important;
            border-radius: 4px !important;
            cursor: pointer !important;
            font-size: 14px !important;
        }
        .calculator-card {
            background: white !important;
            border-radius: 20px !important;
            padding: 40px !important;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1) !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="calculator-card">
                <div class="header">
                    <div class="header-content">
                        <img src="fpl_logo.png" alt="FPL Logo" class="fpl-logo">
                        <h1>Power Calculator</h1>
                    </div>
                    <div class="unit-toggle">
                        <span class="unit-label">Units:</span>
                        <button id="unit-g" class="unit-btn active" data-unit="g" style="display: inline-block; padding: 8px 16px; background: #6c5ce7; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">g</button>
                        <button id="unit-kg" class="unit-btn" data-unit="kg" style="display: inline-block; padding: 8px 16px; background: #6c5ce7; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">kg</button>
                    </div>
                </div>
            
            <div class="equation-display">
                <h2>Equation:</h2>
                <div class="equation">
                    P(W) = 6.3(M/100) + 0.66(M/100)² + P<sub>aux</sub> + P<sub>lights</sub>
                </div>
            </div>

            <div class="inputs-section">
                <div class="input-group">
                    <label for="mass">Mass (<span id="massUnit">g</span>):</label>
                    <input type="number" id="mass" value="1920" min="0" step="0.1">
                </div>
                
                <div class="input-group">
                    <label for="auxPower">Aux Power (W):</label>
                    <input type="number" id="auxPower" value="16" min="0" step="0.1">
                </div>
                
                <div class="input-group">
                    <label for="batterySize">Battery Size (Wh):</label>
                    <input type="number" id="batterySize" value="98.8" min="0" step="0.1">
                </div>
                
                <div class="input-group">
                    <label for="batteryMargin">Battery Margin (%):</label>
                    <input type="number" id="batteryMargin" value="10" min="0" max="100" step="0.1">
                </div>
            </div>

            <div class="lighting-section">
                <h3>Lighting Power:</h3>
                <div class="lighting-slider">
                    <input type="range" id="lightingSlider" min="0" max="2" value="0" step="1">
                    <div class="lighting-labels">
                        <span class="lighting-label">No Lights (+0W)</span>
                        <span class="lighting-label">E2 Lights (+20W)</span>
                        <span class="lighting-label">Full Lights (+50W)</span>
                    </div>
                </div>
            </div>

            <div class="cheat-list">
                <h3>Standard Weights:</h3>
                <div class="weight-items">
                    <div class="weight-item">
                        <span class="weight-name">E3 Base No Lidar:</span>
                        <span class="weight-value" data-weight="1920">1920g</span>
                        <button class="use-weight-btn" data-weight="1920" style="display: inline-block; padding: 8px 16px; background: #6c5ce7; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem; font-weight: 600;">Use</button>
                    </div>
                </div>
            </div>

            <div class="payload-configs">
                <h3>Payload Configurations:</h3>
                <div class="config-grid">
                    <div class="config-item">
                        <span class="config-name">Lidar Rev6:</span>
                        <span class="config-weight" data-weight="450">+450g</span>
                        <button class="config-btn" data-weight="450" style="display: inline-block; padding: 4px 8px; background: #e74c3c; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.8rem; font-weight: 600;">Add</button>
                    </div>
                    <div class="config-item">
                        <span class="config-name">Lidar Rev7:</span>
                        <span class="config-weight" data-weight="500">+500g</span>
                        <button class="config-btn" data-weight="500" style="display: inline-block; padding: 4px 8px; background: #e74c3c; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.8rem; font-weight: 600;">Add</button>
                    </div>
                    <div class="config-item">
                        <span class="config-name">RAD:</span>
                        <span class="config-weight" data-weight="250">+250g</span>
                        <button class="config-btn" data-weight="250" style="display: inline-block; padding: 4px 8px; background: #e74c3c; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.8rem; font-weight: 600;">Add</button>
                    </div>
                    <div class="config-item">
                        <span class="config-name">UT Core:</span>
                        <span class="config-weight" data-weight="187">+187g</span>
                        <button class="config-btn" data-weight="187" style="display: inline-block; padding: 4px 8px; background: #e74c3c; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.8rem; font-weight: 600;">Add</button>
                    </div>
                    <div class="config-item">
                        <span class="config-name">UT Probe:</span>
                        <span class="config-weight" data-weight="66">+66g</span>
                        <button class="config-btn" data-weight="66" style="display: inline-block; padding: 4px 8px; background: #e74c3c; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.8rem; font-weight: 600;">Add</button>
                    </div>
                    <div class="config-item">
                        <span class="config-name">UT Cleaning Head:</span>
                        <span class="config-weight" data-weight="110">+110g</span>
                        <button class="config-btn" data-weight="110" style="display: inline-block; padding: 4px 8px; background: #e74c3c; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.8rem; font-weight: 600;">Add</button>
                    </div>
                </div>
                <div class="current-config">
                    <span class="current-config-label">Current Payload:</span>
                    <span class="current-config-value" id="currentPayload">0g</span>
                    <button class="clear-config-btn" id="clearConfig" style="display: inline-block; padding: 6px 12px; background: #95a5a6; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem; font-weight: 600;">Clear</button>
                </div>
            </div>

            <div class="battery-configs">
                <h3>Battery Configuration:</h3>
                <div class="battery-options">
                    <div class="battery-option">
                        <span class="battery-name">Standard Battery:</span>
                        <span class="battery-specs">98.8 Wh</span>
                        <button class="battery-btn" data-battery="98.8" data-weight="0" style="display: inline-block; padding: 6px 12px; background: #f39c12; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem; font-weight: 600;">Use</button>
                    </div>
                    <div class="battery-option">
                        <span class="battery-name">Big Battery:</span>
                        <span class="battery-specs">160 Wh (<span class="battery-weight" data-weight="440">+440g</span>)</span>
                        <button class="battery-btn" data-battery="160" data-weight="440" style="display: inline-block; padding: 6px 12px; background: #f39c12; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem; font-weight: 600;">Use</button>
                    </div>
                </div>
                <div class="current-battery">
                    <span class="current-battery-label">Current Battery:</span>
                    <span class="current-battery-value" id="currentBattery">98.8 Wh</span>
                </div>
            </div>

            <div class="calculation-display">
                <h3>Live Calculation:</h3>
                <div class="calculation-steps">
                    <div class="step">
                        <span class="step-label">Total Weight:</span>
                        <span class="step-value" id="totalWeight">1950g</span>
                    </div>
                    <div class="step">
                        <span class="step-label">M/100:</span>
                        <span class="step-value" id="massOver100">19.50</span>
                    </div>
                    <div class="step">
                        <span class="step-label">6.3(M/100):</span>
                        <span class="step-value" id="term1">122.85</span>
                    </div>
                    <div class="step">
                        <span class="step-label">0.66(M/100)²:</span>
                        <span class="step-value" id="term2">250.47</span>
                    </div>
                    <div class="step">
                        <span class="step-label">P<sub>aux</sub>:</span>
                        <span class="step-value" id="auxPowerDisplay">16.0</span>
                    </div>
                    <div class="step">
                        <span class="step-label">P<sub>lights</sub>:</span>
                        <span class="step-value" id="lightingPowerDisplay">0.0</span>
                    </div>
                </div>
            </div>

            <div class="result">
                <h2>Total Power:</h2>
                <div class="power-result" id="totalPower">389.32 W</div>
            </div>
            
            <div class="flight-time-display">
                <h3>Flight Time Calculation:</h3>
                <div class="calculation-steps">
                    <div class="step">
                        <span class="step-label">Effective Battery Capacity:</span>
                        <span class="step-value" id="effectiveCapacity">90.0 Wh</span>
                    </div>
                    <div class="step">
                        <span class="step-label">Flight Time:</span>
                        <span class="step-value" id="flightTime">13.9 min</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html> 